<!DOCTYPE html>
<html ng-app="setup">

<head>
  <meta charset="UTF-8">
  <title>Database setup // Passwger</title>

  <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>

  <link href="../assets/css/style.css" rel="stylesheet" type="text/css" />
  <link href="../assets/js/libs/angular-material/angular-material.min.css" rel="stylesheet" />

  <script src="../assets/js/libs/hammerjs/hammer.min.js" type="text/javascript"></script>

  <script src="../assets/js/libs/angular/angular.min.js" type="text/javascript"></script>

  <script src="../assets/js/libs/angular-animate/angular-animate.min.js" type="text/javascript"></script>
  <script src="../assets/js/libs/angular-aria/angular-aria.min.js" type="text/javascript"></script>
  <script src="../assets/js/libs/angular-messages/angular-messages.min.js" type="text/javascript"></script>
  <script src="../assets/js/libs/angular-file-model/angular-file-model.js" type="text/javascript"></script>

  <script src="../assets/js/libs/angular-material/angular-material.min.js" type="text/javascript"></script>

  <script src="../controller/setup.js" type="text/javascript"></script>

</head>

<body ng-controller="SetupController as setup">

  <div class="unlockbackground">
    <div class="unlockcontaier">
      <form name="unlockForm" class="setupinput">

        <md-switch ng-model="setup.write" aria-label="Switch 1">
          <p ng-if="setup.write">
            Create new database
          </p>
          <p ng-if="!setup.write">
            Read existing database
          </p>
        </md-switch>

        <md-input-container ng-if="setup.write">
          <input type="file" required name="pwdfile" file-model="setup.pwdfile" nwsaveas="grimorio.pwger" />
          <div ng-messages="unlockForm.pwdfile.$error">
            <div ng-message="required">Choose where to store your db</div>
          </div>
        </md-input-container>

        <md-input-container ng-if="setup.write">
          <input type="password" required name="password" ng-model="setup.password" class="form-control" placeholder="Database Password" />
          <div ng-messages="unlockForm.password.$error">
            <div ng-message="required">Please provide a password to lock the db.</div>
          </div>
        </md-input-container>


        <md-input-container ng-if="!setup.write">
          <input type="file" required name="pwdfile" file-model="setup.pwdfile" />
          <div ng-messages="unlockForm.pwdfile.$error">
            <div ng-message="required">Pick your existing db</div>
          </div>
        </md-input-container>


      </form>
      <md-button ng-click="setup.createDb()" class="unlockbtn">Save and proceed</md-button>
    </div>
  </div>

</body>

</html>
